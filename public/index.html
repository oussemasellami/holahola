<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Chat en temps r√©el</title>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  
    <style>
      body {
        font-family: Arial;
        padding: 20px;
      }
      #messages div {
        margin: 5px 0;
        padding: 8px;
        background: #eee;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <h2>Chat NestJS</h2>
    <div id="messages"></div>
    <input id="content" placeholder="Votre message" />
    <button id="send">Envoyer</button>
  </body>
  <script>
    const u=prompt()
    const socket = io('http://localhost:3000');
socket.on('receive_message', (msg) => {
  const messagesDiv = document.getElementById('messages');
  const div = document.createElement('div');
  div.innerText = `${msg.content} (${msg.u})`;
  messagesDiv.appendChild(div);
});
document.getElementById('send').addEventListener('click', () => {
  const content = document.getElementById('content').value;

    console.log("name"+u)
  socket.emit('send_message', { content,u });
  document.getElementById('content').value = '';
});

  </script>
</html>
